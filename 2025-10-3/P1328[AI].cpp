// AGENT CODE
// P1328 - [NOIP 2014 提高组] 生活大爆炸版石头剪刀布
// GitHub Copilot - 2025-10-14 00:00:00

/*
 * 题目要求：模拟升级版猜拳游戏，统计双方得分
 * 
 * 游戏规则：5种手势，每种手势能胜其他2种
 * 0-剪刀: 胜 2-布、3-蜥蜴人
 * 1-石头: 胜 0-剪刀、3-蜥蜴人
 * 2-布: 胜 1-石头、4-斯波克
 * 3-蜥蜴人: 胜 2-布、4-斯波克
 * 4-斯波克: 胜 0-剪刀、1-石头
 * 
 * 解题思路：
 * 1. 用二维数组win[i][j]表示手势i对手势j的结果（1赢，-1输，0平）
 * 2. 读取出拳周期和序列
 * 3. 模拟N次猜拳，用取模获取当前手势
 * 4. 根据win数组判断胜负并累加得分
 * 
 * 时间复杂度：O(N)
 * 空间复杂度：O(NA + NB)
 */

#include<bits/stdc++.h>
using namespace std;

int main()
{
    int n = 0, na = 0, nb = 0;
    cin >> n >> na >> nb;
    
    // 存储小A和小B的出拳序列
    vector<int> seqA(na);
    vector<int> seqB(nb);
    
    // 读取小A的出拳序列
    for(int i = 0; i < na; i++)
    {
        cin >> seqA[i];
    }
    
    // 读取小B的出拳序列
    for(int i = 0; i < nb; i++)
    {
        cin >> seqB[i];
    }
    
    // 胜负关系表：win[i][j] = 1表示i胜j，-1表示i负j，0表示平局
    // 初始化为0（平局）
    int win[5][5] = {0};
    
    // 0-剪刀 胜 2-布、3-蜥蜴人
    win[0][2] = 1; win[2][0] = -1;
    win[0][3] = 1; win[3][0] = -1;
    
    // 1-石头 胜 0-剪刀、3-蜥蜴人
    win[1][0] = 1; win[0][1] = -1;
    win[1][3] = 1; win[3][1] = -1;
    
    // 2-布 胜 1-石头、4-斯波克
    win[2][1] = 1; win[1][2] = -1;
    win[2][4] = 1; win[4][2] = -1;
    
    // 3-蜥蜴人 胜 2-布、4-斯波克
    win[3][2] = 1; win[2][3] = -1;
    win[3][4] = 1; win[4][3] = -1;
    
    // 4-斯波克 胜 0-剪刀、1-石头
    win[4][0] = 1; win[0][4] = -1;
    win[4][1] = 1; win[1][4] = -1;
    
    // 统计得分
    int scoreA = 0, scoreB = 0;
    
    // 模拟N次猜拳
    for(int i = 0; i < n; i++)
    {
        // 通过取模获取当前出拳（周期性）
        int a = seqA[i % na];
        int b = seqB[i % nb];
        
        // 判断胜负并累加得分
        if(win[a][b] == 1)
        {
            // A赢
            scoreA++;
        }
        else if(win[a][b] == -1)
        {
            // B赢
            scoreB++;
        }
        // win[a][b] == 0 时为平局，双方都不得分
    }
    
    // 输出两人的得分
    cout << scoreA << " " << scoreB;
    return 0;
}

/*
 * 示例分析1：
 * 输入: N=10, NA=5, NB=6
 * seqA = [0, 1, 2, 3, 4]
 * seqB = [0, 3, 4, 2, 1, 0]
 * 
 * 模拟过程（i从0到9）：
 * i=0: A=0(剪刀) vs B=0(剪刀) → 平局 (0:0)
 * i=1: A=1(石头) vs B=3(蜥蜴人) → A赢 (1:0)
 * i=2: A=2(布) vs B=4(斯波克) → A赢 (2:0)
 * i=3: A=3(蜥蜴人) vs B=2(布) → A赢 (3:0)
 * i=4: A=4(斯波克) vs B=1(石头) → B赢 (3:1)
 * i=5: A=0(剪刀) vs B=0(剪刀) → 平局 (3:1)
 * i=6: A=1(石头) vs B=3(蜥蜴人) → A赢 (4:1)
 * i=7: A=2(布) vs B=4(斯波克) → A赢 (5:1)
 * i=8: A=3(蜥蜴人) vs B=2(布) → A赢 (6:1)
 * i=9: A=4(斯波克) vs B=1(石头) → B赢 (6:2)
 * 
 * 最终得分: 6 2
 */
