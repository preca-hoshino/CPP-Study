// AGENT CODE
// P1067 - [NOIP 2009 普及组] 多项式输出
// GitHub Copilot - 2025-10-13 00:00:00

/*
 * 题目要求：按照特定格式输出一元多项式
 * 
 * 格式规则：
 * 1. 从高次到低次输出
 * 2. 跳过系数为0的项
 * 3. 首项正数不显示+，负数显示-
 * 4. 非首项用+或-连接
 * 5. 系数绝对值为1且次数>0时不显示系数1
 * 6. x^0 只显示系数
 * 7. x^1 显示为x
 * 8. x^n (n>1) 显示为x^n
 * 
 * 解题思路：
 * 1. 读取n+1个系数，对应次数从n到0
 * 2. 遍历每一项，跳过系数为0的项
 * 3. 用标志变量isFirst记录是否为首项（用于控制符号输出）
 * 4. 根据系数、次数的不同情况分别处理输出格式
 * 
 * 时间复杂度：O(n)
 * 空间复杂度：O(n)
 */

#include<bits/stdc++.h>
using namespace std;

int main()
{
    int n = 0;
    cin >> n;
    
    // 存储系数，a[i]表示i次项的系数
    vector<int> a(n + 1);
    
    // 读取系数，从高次到低次
    for(int i = n; i >= 0; i--)
    {
        cin >> a[i];
    }
    
    // 标记是否为第一个输出的项
    bool isFirst = true;
    
    // 从高次到低次遍历
    for(int i = n; i >= 0; i--)
    {
        // 跳过系数为0的项
        if(a[i] == 0)
        {
            continue;
        }
        
        // 处理符号
        if(isFirst)
        {
            // 首项：负数显示-，正数不显示+
            if(a[i] < 0)
            {
                cout << "-";
            }
        }
        else
        {
            // 非首项：正数显示+，负数显示-
            if(a[i] > 0)
            {
                cout << "+";
            }
            else
            {
                cout << "-";
            }
        }
        
        // 获取系数的绝对值
        int absCoef = abs(a[i]);
        
        // 处理系数
        if(i == 0)
        {
            // 0次项：直接输出系数
            cout << absCoef;
        }
        else if(absCoef == 1)
        {
            // 高于0次的项，系数绝对值为1时不输出1
            // 直接输出x部分
        }
        else
        {
            // 高于0次的项，系数绝对值不为1时输出系数
            cout << absCoef;
        }
        
        // 处理x和指数
        if(i > 0)
        {
            cout << "x";
            if(i > 1)
            {
                cout << "^" << i;
            }
        }
        
        // 标记已输出第一项
        isFirst = false;
    }
    
    return 0;
}

/*
 * 示例分析1：
 * 输入: n=5, 系数=[100, -1, 1, -3, 0, 10]
 * 对应: 100x^5 - 1x^4 + 1x^3 - 3x^2 + 0x^1 + 10x^0
 * 
 * 处理过程：
 * i=5, a[5]=100:  首项，正数，输出 "100x^5"
 * i=4, a[4]=-1:   非首项，负数，系数1不显示，输出 "-x^4"
 * i=3, a[3]=1:    非首项，正数，系数1不显示，输出 "+x^3"
 * i=2, a[2]=-3:   非首项，负数，输出 "-3x^2"
 * i=1, a[1]=0:    系数为0，跳过
 * i=0, a[0]=10:   非首项，正数，0次项，输出 "+10"
 * 
 * 最终输出: 100x^5-x^4+x^3-3x^2+10
 * 
 * 示例分析2：
 * 输入: n=3, 系数=[-50, 0, 0, 1]
 * 对应: -50x^3 + 0x^2 + 0x^1 + 1x^0
 * 
 * 处理过程：
 * i=3, a[3]=-50:  首项，负数，输出 "-50x^3"
 * i=2, a[2]=0:    系数为0，跳过
 * i=1, a[1]=0:    系数为0，跳过
 * i=0, a[0]=1:    非首项，正数，0次项，输出 "+1"
 * 
 * 最终输出: -50x^3+1
 */
